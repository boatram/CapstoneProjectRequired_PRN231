@page
@model PRN231.CPR.Page.Pages.SubjectPages.IndexModel
@{
	Layout = "../Shared/_LayoutHome.cshtml";

}
<div class="container" style="padding:64px">
	<div class="main-content-account">
		<div class="row pt-4">
			<div class="col-6">
				<h2 class="text-primary">Subject List </h2>
			</div>
			<div class="col-6 text-end">
				<a asp-page="create" class="btn btn-primary">
					<i class="bi bi-plus-square"></i> &nbsp;Import List Subject
				</a>
			</div>
		</div>

		<br /><br />

		<form method="get">
			<div class="form-actions no-color">
				<p>
					Find:
					<select name="SearchBy">
						<option value="byname">by name</option>
						<option value="byid">by code</option>
						<option value="byspecialization">by specialization code</option>
						<option value="byIsPrerequisite">by Is Prerequisite</option>
					</select>
					<input type="text" name="SearchString" value="@Model.CurrentFilter" />
					<input type="submit" value="Search" class="btn btn-primary" />
				</p>
			</div>
		</form>

		<table class="table table-bordered table-striped" style="table-layout: auto">
			<thead>
				<tr>
					<th>
						Code
					</th>
					<th>
						Name
					</th>
					<th>
						IsPrerequisite
					</th>
					<th>
						Specialization Code
					</th>
					<th>
						Status
					</th>
				</tr>
			</thead>
			<tbody>
				@if (Model.Subjects != null && Model.Subjects.Count() > 0)
				{
					@foreach (var staff in Model.Subjects)
					{
						<tr>
							<td>@staff.Code</td>

							<td>@staff.Name</td>

							<td>@staff.IsPrerequisite</td>

							<td>@staff.Specialization.Code</td>
							<td>@staff.Status</td>

						</tr>
					}
				}
			</tbody>
		</table>
		@if (Model.Subjects != null && Model.Subjects.Count() > 0)
		{

			var prevDisabled = !Model.Subjects.HasPreviousPage ? "disabled" : "";
			var nextDisabled = !Model.Subjects.HasNextPage ? "disabled" : "";

			<a asp-page="/SubjectsPages/Index"
		   asp-route-sortOrder="@Model.CurrentSort"
		   asp-route-pageIndex="@(Model.Subjects.PageIndex - 1)"
		   asp-route-currentFilter="@Model.CurrentFilter"
		   class="btn btn-primary @prevDisabled">
				Previous
			</a>

			<a asp-page="/SubjectsPages/Index"
		   asp-route-sortOrder="@Model.CurrentSort"
		   asp-route-pageIndex="@(Model.Subjects.PageIndex + 1)"
		   asp-route-currentFilter="@Model.CurrentFilter"
		   class="btn btn-primary @nextDisabled">
				Next
			</a>
		}
	</div>
</div>
